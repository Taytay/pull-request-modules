{"name":"weibo-oauth2-1","description":"dont use this package, if pull requests are accepted then you wont need this use weibo-oauth2 package from npm","version":"0.0.4","main":"index.js","repository":"https://github.com/nihaopaul/weibo-oauth2","keywords":["OAuth2","OAuth","weibo","twitter"],"engines":{"node":"*"},"licenses":[{"type":"MIT","url":"http://github.com/nihaopaul/weibo-oauth2/raw/master/LICENSE"}],"dependencies":{},"devDependencies":{},"optionalDependencies":{},"_engineSupported":true,"_defaultsLoaded":true,"versions":[{"number":"0.0.2","date":"2012-09-07T06:33:26.130Z"},{"number":"0.0.3","date":"2012-09-07T06:58:56.652Z"},{"number":"0.0.4","date":"2012-09-07T07:24:56.497Z"}],"readme":"weibo-oauth2\n============\n\nLibrary for interacting with Weibo API V2 via OAuth 2.\n\n[在线示例](http://nodeweibo.cnodejs.net/)\n\nInstallation\n------------\n\nvia npm:\n\n    npm install weibo-oauth2\n\nUsage\n----------\n\nSimple example\n\n    var OAuth2 = require('weibo-oauth2');\n    var options = {\n      \"key\": \"{{key}}\",\n      \"secret\": \"{{secret}}\",\n      \"base_uri\": \"https://api.weibo.com/\",\n      \"redirect_uri\": \"{{redirect_uri}}\",\n      \"authorize_path\": \"/oauth2/authorize\",\n      \"access_path\": \"/oauth2/access_token\"\n    };\n    var oauth2 = new OAuth2(options);\n\n    var app = require('express');\n\n    app.get('/login', function(req, res) {\n      var authorizeUrl = oauth2.getAuthorizeUrl();\n      res.redirect(authorizeUrl);\n    });\n\n    app.get('/callback', function(req, res) {\n      var code = req.query.code;\n      oauth2.getAccessToken(code, function(err, ret) {\n        req.session.maxAge = oauthRet.expires_in * 1000;\n        req.session.access_token = oauthRet.access_token;\n        res.redirect('/');\n      });\n    });\n\n具体例子在 `examples/simple`\n\nPublic API\n----------\n\n### p.getAuthorizeUrl()\n\n获取OAuth2验证地址\n\n### p.getAccessToken(code, callback)\n\n`code`是OAuth2验证后返回的url的query参数\n\n获取Access token\n\n### p.request = function (options, params, accessToken, multi, callback)\n\n不同的参数组合：\n\n1.  options, params, callback\n2.  options, callback\n3.  options, accessToken, callback\n4.  options, params, accessToken, callback\n5.  options, params, accessToken, multi, callback\n\noptions有以下选项\n\n+   `method`: 默认 `GET`. http method\n+   `path`: 微博API路径\n+   `host`: 如果使用的API的请求地址的域名不是`api.weibo.com`，比如消息提醒的地址的域名是`rm.api.weibo.com`，使用该参数\n\nparams有以下注意的选项\n\n+   `pic`: 要上传图片的路径\n\n上传图片注意设置`params.pic`为图片路径和`multi`为true","created":"2012-09-07T06:33:23.980Z","modified":"2012-09-07T07:24:56.497Z","lastPublisher":{"name":"nihaopaul","email":"nihaopaul@gmail.com"},"owners":[{"name":"nihaopaul","email":"nihaopaul@gmail.com"}],"other":{"_attachments":{},"_id":"weibo-oauth2-1","_nodeVersion":"v0.8.8","_npmUser":{"name":"nihaopaul","email":"nihaopaul@gmail.com"},"_npmVersion":"1.1.4","_rev":"1-211147197beaf5986a0fba839525b4b1","author":{"name":"nihaopaul","email":"nihaopaul@gmail.com"},"directories":{"lib":"./lib"},"dist-tags":{"latest":"0.0.4"},"dist":{"shasum":"9eec52442debb960ad92e05d62be86543150a7b3","tarball":"http://registry.npmjs.org/weibo-oauth2-1/-/weibo-oauth2-1-0.0.4.tgz"},"maintainers":[{"name":"nihaopaul","email":"nihaopaul@gmail.com"}],"time":{"modified":"2012-09-07T07:24:56.497Z","created":"2012-09-07T06:33:23.980Z","0.0.2":"2012-09-07T06:33:26.130Z","0.0.3":"2012-09-07T06:58:56.652Z","0.0.4":"2012-09-07T07:24:56.497Z"}}}